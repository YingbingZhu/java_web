<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>welcome to register</title>
  <link href="../css/register.css" rel="stylesheet">
</head>
<body>

<div class="form-div">
  <div class="reg-content">
    <h1>welcome to register</h1>
    <span> already have an account? </span> <a href="#">login</a>
  </div>
  <form id="reg-form" action="#" method="get">

    <table>

      <tr>
        <td>username</td>
        <td class="inputs">
          <input name="username" type="text" id="username">
          <br>
          <span id="username_err" class="err_msg" style="display: none">not correct input</span>
        </td>

      </tr>

      <tr>
        <td>password</td>
        <td class="inputs">
          <input name="password" type="password" id="password">
          <br>
          <span id="password_err" class="err_msg" style="display: none">wrong format</span>
        </td>
      </tr>


      <tr>
        <td>mobile</td>
        <td class="inputs"><input name="tel" type="text" id="tel">
          <br>
          <span id="tel_err" class="err_msg" style="display: none">wrong format</span>
        </td>
      </tr>

    </table>

    <div class="buttons">
      <input value="Sign Up" type="submit" id="reg_btn">
    </div>
    <br class="clear">
  </form>

</div>


<script>

    //1. validate username
    //1.1 get input
    var usernameInput = document.getElementById("username");

    //1.2 bind onblur
    usernameInput.onblur = checkUsername;

    function checkUsername() {
        //1.3 get username
        var username = usernameInput.value.trim();

        //1.4 length 6~12, words
        var reg = /^\w{6,12}$/;
        var flag = reg.test(username);

        //var flag = username.length >= 6 && username.length <= 12;
        if (flag) {
            document.getElementById("username_err").style.display = 'none';
        } else {
            document.getElementById("username_err").style.display = '';
        }

        return flag;
    }


    //1. validate password
    //1.1 get password
    var passwordInput = document.getElementById("password");

    //1.2 bind onblur
    passwordInput.onblur = checkPassword;

    function checkPassword() {
        //1.3 get input
        var password = passwordInput.value.trim();

        //1.4 length 6~12
        var reg = /^\w{6,12}$/;
        var flag = reg.test(password);

        //var flag = password.length >= 6 && password.length <= 12;
        if (flag) {
            document.getElementById("password_err").style.display = 'none';
        } else {
            document.getElementById("password_err").style.display = '';
        }

        return flag;
    }


    //1. validate cellphone
    var telInput = document.getElementById("tel");

    telInput.onblur = checkTel;

    function checkTel() {
        var tel = telInput.value.trim();

        // length 11

        //var flag = tel.length == 11;
        var reg = /^[1]\d{10}$/;
        var flag = reg.test(tel);
        if (flag) {
            document.getElementById("tel_err").style.display = 'none';
        } else {
            document.getElementById("tel_err").style.display = '';
        }

        return flag;
    }


    //1. get form
    var regForm = document.getElementById("reg-form");

    //2. onsubmit
    regForm.onsubmit = function () {
        var flag = checkUsername() && checkPassword() && checkTel();

        return flag;
    }

</script>
</body>
</html>